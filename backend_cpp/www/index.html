<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Synapse-Flow | Mission Control</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- ðŸš€ VIS.JS IMPORT -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        #graph-container { width: 100%; height: 100%; background: #0d1117; }
    </style>
</head>
<body>
    <div class="app-container">
        
        <!-- GLOBAL NAVIGATION RAIL -->
        <aside class="icon-nav">
            <div class="nav-brand"><i class="fas fa-brain"></i></div>
            
            <div class="nav-item active" onclick="switchPage('dashboard')">
                <i class="fas fa-tachometer-alt"></i>
                <span class="tooltip">Mission Control</span>
            </div>
            
            <div class="nav-item" onclick="switchPage('trace')">
                <i class="fas fa-network-wired"></i>
                <span class="tooltip">Live Trace</span>
            </div>

            <!-- ðŸš€ GRAPH ICON -->
            <div class="nav-item" onclick="switchPage('graph')">
                <i class="fas fa-project-diagram"></i>
                <span class="tooltip">Neural Graph</span>
            </div>

            <div class="nav-spacer"></div>
            <div class="nav-item"><i class="fas fa-cog"></i></div>
        </aside>

        <!-- DASHBOARD VIEW -->
        <div id="view-dashboard" class="view-section active">
            <nav class="sidebar">
                <div class="section-title">SYSTEM VITALS</div>
                <div class="kpi-grid">
                    <div class="kpi-mini"><label>CPU</label><div id="kpi-cpu" class="val-text">0%</div></div>
                    <div class="kpi-mini"><label>RAM</label><div id="kpi-ram" class="val-text">0MB</div></div>
                </div>
                <div class="section-title">ENGINE METRICS</div>
                <div class="kpi-box">
                    <div class="kpi-row">
                        <div><label>Sync Latency</label><div id="kpi-sync" class="kpi-val-small">0ms</div></div>
                        <div><label>RAM Cache</label><div id="kpi-cache" class="kpi-val-small">0MB</div></div>
                    </div>
                </div>
                <div class="kpi-box">
                    <div class="kpi-row">
                        <div><label>AI Latency</label><div id="kpi-latency" class="kpi-val">0ms</div></div>
                        <div><label>Tokens/Sec</label><div id="kpi-tps" class="kpi-val">0</div></div>
                    </div>
                </div>
                <div class="list-header">TRANSMISSION LOG</div>
                <div id="log-list" class="log-list"></div>
            </nav>

            <main class="inspector">
                <header>
                    <div class="breadcrumbs">
                        <span id="insp-id">SELECT TRANSMISSION</span>
                        <span id="insp-type" class="badge">WAITING</span>
                    </div>
                    <div class="meta-row">
                        <span><i class="far fa-clock"></i> <span id="insp-time">--</span></span>
                        <span><i class="fas fa-bolt"></i> <span id="insp-duration">--</span></span>
                        <span><i class="fas fa-database"></i> <span id="insp-context-size">0 chars</span></span>
                    </div>
                </header>
                <div class="grid-layout">
                    <div class="panel full-height">
                        <h3><i class="fas fa-eye"></i> AI Retina View (Full Context)</h3>
                        <div class="code-window" id="insp-full-prompt"><span class="placeholder-text">Select a log to see payload...</span></div>
                    </div>
                    <div class="panel full-height">
                        <div class="sub-section" style="flex:1;">
                            <h3><i class="fas fa-robot"></i> AI Response</h3>
                            <div class="code-window" id="insp-response"></div>
                        </div>
                        <div class="sub-section">
                            <h3><i class="fas fa-keyboard"></i> Raw User Input</h3>
                            <div class="code-window small" id="insp-user-input"></div>
                        </div>
                        <div class="sub-section">
                            <h3><i class="fas fa-project-diagram"></i> Vector DNA</h3>
                            <div id="insp-vector" class="vector-bar"></div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- LIVE TRACE VIEW -->
        <div id="view-trace" class="view-section">
            <div class="trace-container">
                <div class="trace-header">
                    <h2>ðŸš€ Live Flight Trace</h2>
                    <span id="trace-status" class="status-live">LISTENING</span>
                </div>
                <div id="trace-list" class="trace-list"></div>
            </div>
        </div>

        <!-- ðŸš€ GRAPH VIEW -->
        <div id="view-graph" class="view-section">
            <div style="display:flex; flex-direction:column; width:100%; height:100%">
                <header style="padding:15px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center;">
                    <h3 style="margin:0; color:#58a6ff"><i class="fas fa-project-diagram"></i> Cognitive Graph Topology</h3>
                    <button onclick="refreshGraph()" style="background:var(--accent); border:none; color:white; padding:6px 15px; border-radius:4px; cursor:pointer; font-weight:bold;">Refresh Network</button>
                </header>
                <div id="graph-container"></div>
            </div>
        </div>

    </div>
    <script src="main.js"></script>
</body>
</html>