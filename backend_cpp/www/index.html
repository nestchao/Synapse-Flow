<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Synapse-Flow | Mission Control</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        
        <!-- 1. GLOBAL NAVIGATION RAIL -->
        <aside class="icon-nav">
            <div class="nav-brand"><i class="fas fa-brain"></i></div>
            
            <div class="nav-item active" onclick="switchPage('dashboard')">
                <i class="fas fa-tachometer-alt"></i>
                <span class="tooltip">Mission Control</span>
            </div>
            
            <div class="nav-item" onclick="switchPage('trace')">
                <i class="fas fa-network-wired"></i>
                <span class="tooltip">Live Trace</span>
            </div>

            <div class="nav-spacer"></div>

            <div class="nav-item">
                <i class="fas fa-cog"></i>
            </div>
        </aside>

        <!-- PAGE 1: MISSION CONTROL (DASHBOARD) -->
        <div id="view-dashboard" class="view-section active">
            <!-- Sidebar: Logs & Vitals -->
            <nav class="sidebar">
                <div class="section-title">SYSTEM VITALS</div>
                <div class="kpi-grid">
                    <div class="kpi-mini">
                        <label>CPU</label>
                        <div id="kpi-cpu" class="val-text">0%</div>
                    </div>
                    <div class="kpi-mini">
                        <label>RAM</label>
                        <div id="kpi-ram" class="val-text">0MB</div>
                    </div>
                </div>

                <div class="section-title">ENGINE METRICS</div>
                <div class="kpi-box">
                    <div class="kpi-row">
                        <div><label>Sync Latency</label><div id="kpi-sync" class="kpi-val-small">0ms</div></div>
                        <div><label>RAM Cache</label><div id="kpi-cache" class="kpi-val-small">0MB</div></div>
                    </div>
                </div>
                <div class="kpi-box">
                    <div class="kpi-row">
                        <div><label>AI Latency</label><div id="kpi-latency" class="kpi-val">0ms</div></div>
                        <div><label>Tokens/Sec</label><div id="kpi-tps" class="kpi-val">0</div></div>
                    </div>
                </div>
                
                <div class="list-header">TRANSMISSION LOG</div>
                <div id="log-list" class="log-list">
                    <!-- Logs injected via JS -->
                </div>
            </nav>

            <!-- Main: Inspector -->
            <main class="inspector">
                <header>
                    <div class="breadcrumbs">
                        <span id="insp-id">SELECT TRANSMISSION</span>
                        <span id="insp-type" class="badge">WAITING</span>
                    </div>
                    <div class="meta-row">
                        <span><i class="far fa-clock"></i> <span id="insp-time">--</span></span>
                        <span><i class="fas fa-bolt"></i> <span id="insp-duration">--</span></span>
                        <span><i class="fas fa-database"></i> <span id="insp-context-size">0 chars</span></span>
                    </div>
                </header>

                <div class="grid-layout">
                    <!-- Split Pane: Context vs Output -->
                    <div class="panel full-height">
                        <h3><i class="fas fa-eye"></i> AI Retina View (Full Context)</h3>
                        <div class="code-window" id="insp-full-prompt">
                            <span class="placeholder-text">Select a log to see the exact payload sent to Gemini...</span>
                        </div>
                    </div>
                    <div class="panel full-height">
                        <div class="sub-section" style="flex:1;">
                            <h3><i class="fas fa-robot"></i> AI Response</h3>
                            <div class="code-window" id="insp-response"></div>
                        </div>
                        <div class="sub-section">
                            <h3><i class="fas fa-keyboard"></i> Raw User Input</h3>
                            <div class="code-window small" id="insp-user-input"></div>
                        </div>
                        <div class="sub-section">
                            <h3><i class="fas fa-project-diagram"></i> Vector DNA</h3>
                            <div id="insp-vector" class="vector-bar"></div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- PAGE 2: LIVE TRACE (HIDDEN BY DEFAULT) -->
        <div id="view-trace" class="view-section">
            <div class="trace-container">
                <div class="trace-header">
                    <h2>ðŸš€ Live Flight Trace</h2>
                    <span id="trace-status" class="status-live">LISTENING</span>
                </div>
                <div id="trace-list" class="trace-list">
                    <div style="padding:40px; text-align:center; color:#555">Waiting for Agentic events...</div>
                </div>
            </div>
        </div>

    </div>
    <script src="main.js"></script>
</body>
</html>